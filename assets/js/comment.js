var addComment=function(){function e(e,o){$("#modal").show(400),$("body").addClass("modal-open"),document.getElementById("modtit").innerHTML=`<h5 class="modal-title">${e}</h5>`,document.querySelectorAll("#modal p")[0].innerHTML=o,t("#btnx").addEventListener("click",function(){$("#modal").hide(5),$("body").removeClass("modal-open"),n.innerHTML="Submit",n.classList.remove("disabled"),d.reset(),d.doReset()})}var t=function(e){return document.querySelector(e)},o=function(e){return document.getElementById(e)};document.getElementById("modal").innerHTML='<div id="resultsmodal" class="modal fade show d-block"  tabindex="-1" role="dialog" aria-labelledby="resultsmodal"> <div class="modal-dialog shadow" role="document"> <div class="modal-content"> <div class="modal-header" id="modtit"> <button type="button" class="close" id="btnx" data-dismiss="modal" aria-label="Close"> &times; </button> </div> <div class="modal-body"> <p class="mb-0"> </p>    </div> <div class="modal-footer"><button id="btnx" type="button" class="btn btn-primary btn-sm" data-dismiss="modal">Close</button></div></div> </div></div>',$("#modal").hide();var n=t(".submit-form"),d=t(".actual-form");return d.doReset=function(){n.innerHTML="Submit",this.classList.remove("disabled")},d.addEventListener("submit",function(t){t.preventDefault(),n.innerHTML="Posting...",n.classList.add("disabled");var o=function(t,o){console.log(o),e(t,"An error occured.<br>["+(o.errorCode||"unknown")+"]"),d.doReset()};d.classList.add("disabled"),fetch(this.getAttribute("action"),{method:"POST",body:new URLSearchParams(new FormData(this)),headers:new Headers({"content-type":"application/x-www-form-urlencoded"})}).then(function(t){t.ok?e("Comment submitted!","Your comment is awaiting approval. It will appear when approved :)"):t.json().then(function(e){o("Server Error",e)})})["catch"](function(e){console.error(e),o("Unexpected Error",e)})}),{moveForm:function(e,t,n){var d=this,i=o(e),a=o(t),r=o("cancel-reply-btn"),s=o("replying-to-id");if(i&&a&&r&&s){if(d.respondId=t,!o("sm-temp-form-div")){var l=document.createElement("div");l.id="sm-temp-form-div",l.style.display="none",a.parentNode.insertBefore(l,a)}return i.parentNode.insertBefore(a,i.nextSibling),s.value=n,o("form-title").innerHTML="Add a reply",r.style.display="",r.onclick=function(){var e=o("sm-temp-form-div"),t=o(d.respondId);if(e&&t)return o("form-title").innerHTML="Add a comment",o("replying-to-id").value=null,e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e),this.style.display="none",this.onclick=null,!1},o("commentbox-message").focus(),!1}}}}();