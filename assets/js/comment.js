var addComment=function(){function e(e,n){document.getElementById("modtit").innerHTML=`<h5 class="modal-title">${e}</h5>`,document.querySelectorAll("#modal p")[0].innerHTML=n,t("#btnx").addEventListener("click",function(){o.innerHTML="Submit",o.classList.remove("disabled"),d.reset(),d.doReset()})}var t=function(e){return document.querySelector(e)},n=function(e){return document.getElementById(e)};document.getElementById("modal").innerHTML='<div id="resultsmodal" class="modal fade show d-block"  tabindex="-1" role="dialog" aria-labelledby="resultsmodal"> <div class="modal-dialog shadow" role="document"> <div class="modal-content"> <div class="modal-header" id="modtit"> <button type="button" class="close" id="btnx" data-dismiss="modal" aria-label="Close"> &times; </button> </div> <div class="modal-body"> <p class="mb-0"> </p>    </div> <div class="modal-footer"><button id="btnx" type="button" class="btn btn-primary btn-sm" data-dismiss="modal">Close</button></div></div> </div></div>';var o=t(".submit-form"),d=t(".actual-form");return d.doReset=function(){o.innerHTML="Submit",this.classList.remove("disabled")},d.addEventListener("submit",function(t){t.preventDefault(),o.innerHTML="Posting...",o.classList.add("disabled");var n=function(t,n){console.log(n),e(t,"An error occured.<br>["+(n.errorCode||"unknown")+"]"),d.doReset()};d.classList.add("disabled"),fetch(this.getAttribute("action"),{method:"POST",body:new URLSearchParams(new FormData(this)),headers:new Headers({"content-type":"application/x-www-form-urlencoded"})}).then(function(t){t.ok?e("Comment submitted!","Your comment is awaiting approval. It will appear when approved :)"):t.json().then(function(e){n("Server Error",e)})})["catch"](function(e){console.error(e),n("Unexpected Error",e)})}),{moveForm:function(e,t,o){var d=this,i=n(e),r=n(t),a=n("cancel-reply-btn"),s=n("replying-to-id");if(i&&r&&a&&s){if(d.respondId=t,!n("sm-temp-form-div")){var l=document.createElement("div");l.id="sm-temp-form-div",l.style.display="none",r.parentNode.insertBefore(l,r)}return i.parentNode.insertBefore(r,i.nextSibling),s.value=o,n("form-title").innerHTML="Add a reply",a.style.display="",a.onclick=function(){var e=n("sm-temp-form-div"),t=n(d.respondId);if(e&&t)return n("form-title").innerHTML="Add a comment",n("replying-to-id").value=null,e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e),this.style.display="none",this.onclick=null,!1},n("commentbox-message").focus(),!1}}}}();